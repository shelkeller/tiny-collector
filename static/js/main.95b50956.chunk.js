(this["webpackJsonptiny-collector"]=this["webpackJsonptiny-collector"]||[]).push([[0],{111:function(e,t,o){"use strict";o.r(t);var r=o(3),c=o(0),n=o(11),l=o.n(n),i=(o(88),o(89),o(26)),a=o(27),s=(o(90),o(18)),d=o.n(s),j=o(53),b=o.n(j),u=o(69),h=o.n(u),x=o(165),f=o(68),p=o.n(f),O=o(67),m=o.n(O),g=o(158),w=o(166),v=o(153),y=o(154),C=o(155),k=o(156),N=o(66),S=o.n(N),F=o(164),H=o(157),I=o(152),z=o(147),G=o(54),R=o(55),q=Object(z.a)({red:{backgroundColor:G.a[100],color:G.a[600]},blue:{backgroundColor:R.a[100],color:R.a[600]}}),D=function(e){var t=e.onClose,o=e.title,c=e.selectedValue,n=e.selectedPlot,l=e.open,i=function(){t(c)},a=function(e){t(e,n)},s=q();return Object(r.jsxs)(F.a,{onClose:i,"aria-labelledby":"simple-dialog-title",open:l,maxWidth:!0,children:[Object(r.jsx)(I.a,{id:"simple-dialog-title",children:o}),Object(r.jsxs)(v.a,{children:[Object(r.jsxs)(y.a,{button:!0,onClick:function(){return a("gather")},children:[Object(r.jsx)(C.a,{children:Object(r.jsx)(w.a,{className:s.blue,children:Object(r.jsx)(S.a,{})})}),Object(r.jsx)(k.a,{primary:"Gather"})]}),Object(r.jsxs)(y.a,{button:!0,onClick:function(){return a("delete")},children:[Object(r.jsx)(C.a,{children:Object(r.jsx)(w.a,{className:s.red,children:Object(r.jsx)(m.a,{})})}),Object(r.jsx)(k.a,{primary:"Delete"})]})]}),Object(r.jsx)(H.a,{children:Object(r.jsx)(g.a,{onClick:i,color:"primary",children:Object(r.jsx)(p.a,{})})})]})},M=function(e){var t=e.plot,o=(e.handleClick,e.performGather),n="hexagon "+t.content,l="",i="";t.isFlower&&t.age>=1&&(i=t.flowerHex,l=Object(r.jsx)(b.a,{})),t.isFlower&&t.age<1&&(i=t.budColor,l=Object(r.jsx)(h.a,{})),t.isFlower||(i=t.color);var s=t.isFlower?t.flowerColorName+" Flower":"Empty Plot",d=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:s}),Object(r.jsxs)("p",{style:{fontSize:14},children:[t.row,", ",t.col]})]}),j={backgroundColor:i},u=Object(c.useState)(!1),f=Object(a.a)(u,2),p=f[0],O=f[1],m=Object(c.useState)("delete"),g=Object(a.a)(m,2),w=g[0],v=g[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(x.a,{title:d,arrow:!0,children:Object(r.jsx)("div",{className:n,style:j,onClick:function(){t.isFlower&&t.age>=1&&o(t)},children:Object(r.jsx)("div",{className:"hexagontent",children:l})})}),t.isFlower&&t.age&&Object(r.jsx)(D,{onClose:function(e,t){O(!1),v(e),"gather"===e&&o(t)},title:s,open:p,selectedValue:w,selectedPlot:t})]})},P=["#42796c","#3a514c","#185653"],E=[{id:0,colorName:"Red",colorHex:"#9f1f2b"},{id:1,colorName:"Yellow",colorHex:"#e0c55f"},{id:2,colorName:"Green",colorHex:"#7ddf84"},{id:3,colorName:"Cyan",colorHex:"#00c0cd"},{id:4,colorName:"Blue",colorHex:"#3b66db"},{id:5,colorName:"Violet",colorHex:"#9e7af0"}],V="tiny collector",A=10,B=3,J=!1,T=4,W=function(e){return Math.floor(Math.random()*Math.floor(e))},Y=function(e){var t=e.x,o=void 0===t?-1:t,r=e.y,c=void 0===r?-1:r,n=e.colorID,l=e.id,i=void 0===l?-1:l;return n||(n=W(P.length)),{id:i,isFlower:!1,color:P[n],name:"Empty",content:"grass",row:o,col:c}},K=function(e){var t=e.x,o=void 0===t?-1:t,r=e.y,c=void 0===r?-1:r,n=e.colorID,l=e.age,i=void 0===l?0:l,a=e.id,s=void 0===a?-1:a;return n||(n=W(6)),{row:o,col:c,id:s,budColor:P[W(P.length)],isFlower:!0,flowerHex:E[n].colorHex,flowerColorName:E[n].colorName,flowerColorId:n,name:E[n].colorName+" Flower",age:i}},L=function(e){var t=e.plots,o=e.gridState,c=e.gridStateSetter,n=e.inventoryState,l=e.inventoryStateSetter,a=function(e){var o=t.filter((function(t){return t.id===e}))[0];console.log(o)},s=function(e){e.id;var t=n.findIndex((function(t){return t.flowerColor===e.flowerColorId}));if(t>-1)n[t].quantity++,l(Object(i.a)(n));else{var r={flowerColor:e.flowerColorId,colorName:e.flowerColorName,quantity:1};l([].concat(Object(i.a)(n),[r]))}W(P.length);o[e.row][e.col]=Y({x:e.row,y:e.col,id:e.id}),c(Object(i.a)(o))};return Object(r.jsx)("div",{className:"ibws-fix",children:t.map((function(e,t){return Object(r.jsx)(M,{plot:e,handleClick:a,performGather:s},"key"+t)}))})},Q=o(161),U=o(160),X=o(149),Z=o(159),$=o(7),_=function(e){var t=e.flowerHues,o=e.items,c=(e.setItems,Object(z.a)((function(e){return{root:{flexGrow:1},paper:{height:50,width:50}}}))),n=Object($.a)((function(e){return{badge:{top:35,right:5,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px"}}}))(Z.a),l=c(),i=function(e){var t=e.children,o=e.condition,r=e.wrapper;return o?r(t):t};return Object(r.jsx)(U.a,{maxWidth:"sm",style:{paddingTop:"1em"},children:Object(r.jsx)(Q.a,{container:!0,className:l.root,spacing:2,children:Object(r.jsx)(Q.a,{item:!0,xs:12,children:Object(r.jsx)(Q.a,{container:!0,justify:"center",spacing:1,children:o.map((function(e,o){return Object(r.jsx)(Q.a,{item:!0,children:Object(r.jsx)(i,{condition:e.quantity>1,wrapper:function(t){return Object(r.jsx)(n,{color:"primary",badgeContent:e.quantity,children:t})},children:Object(r.jsx)(w.a,{component:X.a,style:{backgroundColor:t[e.flowerColor],color:"white"},elevation:1,variant:"rounded",children:Object(r.jsx)(b.a,{})})})},o)}))})})})})},ee=o(56),te=o(163),oe=o(75),re=o(162),ce=o(71),ne=o.n(ce),le=J?["#e6677","#ccbb44","#228833","#66ccee","#4477aa","#aa3377"]:["#9f1f2b","#e0c55f","#7ddf84","#00c0cd","#3b66db","#9e7af0"],ie=Object(oe.a)({palette:{primary:{main:"#185653"}}});var ae=function(){var e=A,t=V,o=Object(c.useState)(function(e){var t=[],o=[];for(d()(e,(function(e){if(W(100)<=B){var o=W(2);t[e]=K({age:o,id:e})}else t[e]=Y({id:e})}));t.length;)o.push(t.splice(0,A));return d()(o.length,(function(e){d()(o[e].length,(function(t){o[e][t].row=e,o[e][t].col=t}))})),o}(e*(e-1))),n=Object(a.a)(o,2),l=n[0],s=n[1],j=Object(c.useState)(0),b=Object(a.a)(j,2),u=b[0],h=b[1],x=Object(c.useState)([]),f=Object(a.a)(x,2),p=f[0],O=f[1],m=1+Math.floor(u/3),g=function(e,t){var o=function(e,t){var o=[];return e>0&&o.push({row:e-1,col:t}),t<A-1&&o.push({row:e,col:t+1}),t<A-1&&o.push({row:e,col:t+1}),e<A-2&&o.push({row:e+1,col:t}),e<A-2&&t>0&&o.push({row:e+1,col:t-1}),e>0&&t>0&&o.push({row:e-1,col:t}),o}(e,t),r=[];return d()(o.length,(function(e){l[o[e].row][o[e].col].isFlower||r.push(l[o[e].row][o[e].col])})),r},w=function(){h(u+1),d()(l.length,(function(e){d()(l[e].length,(function(t){l[e][t].marked=!1}))}));var e=[];d()(l.length,(function(t){d()(l[t].length,(function(o){if(!l[t][o].marked&&(l[t][o].marked=!0,l[t][o].age<2&&(u%3===2||u%3===0)&&l[t][o].age++,l[t][o].isFlower&&2===l[t][o].age)){var r=g(t,o);if(r.length){var c=r[W(r.length)];c&&function(e,t){var o=l[e][t].id;l[e][t]=K({x:e,y:t,id:o,age:0}),s(Object(i.a)(l))}(c.row,c.col),l[c.row][c.col].marked=!0}else{W(T)||e.push({row:t,col:o})}}}))})),d()(e.length,(function(t){g(e[t].row,e[t].col).length||function(e,t){var o=l[e][t].id;l[e][t]=Y({x:e,y:t,id:o}),s(Object(i.a)(l))}(e[t].row,e[t].col)}))},v="";return u%3===0?v=Object(r.jsx)(ee.c,{size:40,style:{backgroundColor:"#d47986",padding:"3 2 0 2",borderRadius:"10px",border:"2px solid white"}}):u%3===1?v=Object(r.jsx)(ee.a,{size:40,style:{backgroundColor:"#dbbd72",padding:"3 2 0 2",borderRadius:"10px",border:"2px solid white"}}):u%3===2&&(v=Object(r.jsx)(ee.b,{size:40,style:{backgroundColor:"#739cde",padding:"3 2 0 2",borderRadius:"10px",border:"2px solid white"}})),Object(r.jsx)(re.a,{theme:ie,children:Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)("header",{className:"App-header",children:[t,Object(r.jsx)(te.a,{variant:"extended",color:"primary",onClick:function(){w()},style:{margin:"1em"},children:Object(r.jsx)(ne.a,{})}),Object(r.jsxs)("div",{style:{fontSize:"14px",margin:"2em"},children:[Object(r.jsx)("p",{children:"Refresh the page if you see no flowers."}),Object(r.jsx)("p",{children:"Proceed time with the button above. Click flowers to collect them."}),Object(r.jsx)("p",{children:"Overcrowded flowers might die."}),Object(r.jsx)("p",{children:"Coming soon: color breeding!"})]}),Object(r.jsx)("p",{children:v}),Object(r.jsxs)("p",{children:[" ","Day "+m," "]}),Object(r.jsx)(_,{flowerHues:le,items:p,setItems:O}),Object(r.jsx)("div",{className:"honeycomb",style:{paddingTop:"2em"},children:l.map((function(e,t){return Object(r.jsx)(L,{plots:e,gridState:l,gridStateSetter:s,inventoryState:p,inventoryStateSetter:O})}))})]})})})},se=o(72);l.a.render(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(se.a,{children:Object(r.jsx)("title",{children:V})}),Object(r.jsx)(ae,{})]}),document.getElementById("root"))},88:function(e,t,o){},89:function(e,t,o){},90:function(e,t,o){}},[[111,1,2]]]);
//# sourceMappingURL=main.95b50956.chunk.js.map